<html lang="en">
    <head>
        <title>Chart.js demo</title>
        <!-- import plugin script -->
        <script src='./chart.min.js'></script>
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style>
        .panel-heading{
            background-color: black;
            border-color: black;
            color: white;
        }
        .panel{
            border: 0.5px solid rgba(0,0,0,0.3);
        }
        .panel-body{
            border-color: black;
        }
        .close{
            color: white;
            opacity: 0.8;
        }
        .close:hover{
            color: white;
            opacity: 1;
        }
        </style>
    </head>
    <body style="background: #f6f8f8">
        <div class="container">
        <div id="common-nav"></div>
        <script type="text/javascript">
            $("#common-nav").load("/ .navbar", function(){
                $("#common-nav .nav li").each(function(i){
                    if(i==1)
                        $(this).addClass("active");
                    else
                        $(this).removeClass("active")
                });
            });
        </script>
        <div class="row">
            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading">
                        <b>Line Graph</b>
                        <span class="close" aria-label="Minimize" onclick="$(this).closest('.panel').children('.panel-body').fadeToggle()">&times;</span>
                    </div>
                    <div class="panel-body">
                        <!-- line chart canvas element -->
                        <canvas id="buyers" height="400" width="525"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading">
                        <b>Pie Chart</b>
                        <span class="close" aria-label="Minimize" onclick="$(this).closest('.panel').children('.panel-body').fadeToggle()">&times;</span>
                    </div>
                    <div class="panel-body">
                        <!-- pie chart canvas element -->
                       <canvas id="countries" height="400" width="525"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading">
                        <b>Bar Chart</b>
                        <span class="close" aria-label="Minimize" onclick="$(this).closest('.panel').children('.panel-body').fadeToggle()">&times;</span>
                    </div>
                    <div class="panel-body">
                        <!-- bar chart canvas element -->
                        <canvas id="income" height="400" width="525"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading">
                        <b>Polar Area Chart</b>
                        <span class="close" aria-label="Minimize" onclick="$(this).closest('.panel').children('.panel-body').fadeToggle()">&times;</span>
                    </div>
                    <div class="panel-body">
                        <!-- line chart canvas element -->
                        <canvas id="none" height="400" width="525"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <script>
            // line chart data
            var data1;
            $.ajax({
                url: '/testData',
                complete: function(data) {
                data1 = data["responseJSON"];
                var buyerData = {
                    labels : ["January","February","March","April","May","June"],
                    datasets : [
                    {
                        fillColor : "rgba(172,194,132,0.4)",
                        strokeColor : "#ACC26D",
                        pointColor : "#fff",
                        pointStrokeColor : "#9DB86D",
                        data : data1
                    }
                    ]
                }
                // get line chart canvas
                var buyers = document.getElementById('buyers').getContext('2d');
                // draw line chart
                new Chart(buyers).Line(buyerData,{
                    responsive : true
                });
                }
            });

            // pie chart data
            var pieData = [
                {
                    value: 20,
                    color:"#878BB6"
                },
                {
                    value : 40,
                    color : "#4ACAB4"
                },
                {
                    value : 10,
                    color : "#FF8153"
                },
                {
                    value : 30,
                    color : "#FFEA88"
                }
            ];
            // pie chart options
            var pieOptions = {
                 segmentShowStroke : false,
                 animateScale : true
            }
            // get pie chart canvas
            var countries= document.getElementById("countries").getContext("2d");
            // draw pie chart
            new Chart(countries).Pie(pieData, pieOptions);
            // bar chart data
            var barData = {
                labels : ["January","February","March","April","May","June"],
                datasets : [
                    {
                        fillColor : "#48A497",
                        strokeColor : "#48A4D1",
                        data : [456,479,324,569,702,600]
                    },
                    {
                        fillColor : "rgba(73,188,170,0.4)",
                        strokeColor : "rgba(72,174,209,0.4)",
                        data : [364,504,605,400,345,320]
                    }
                ]
            }
            // get bar chart canvas
            var income = document.getElementById("income").getContext("2d");
            // draw bar chart
            new Chart(income).Bar(barData);
        </script>
        </div>
    </body>
</html>